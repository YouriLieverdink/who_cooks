{
  "name": "Recipes",
  "description": "Store, schedule, and share recipes with friends & family.",

  "models": {
    "error": {
      "description": "Generic error message.",
      "fields": [
        { "name": "code", "type": "string" },
        { "name": "message", "type": "string" }
      ]
    },

    "recipe": {
      "description": "A recipe created by the user.",
      "fields": [
        { "name": "uuid", "type": "uuid" },
        { "name": "title", "type": "string" }
      ]
    },
    "recipe_form": {
      "description": "Used to create a recipe",
      "fields": [{ "name": "title", "type": "string" }]
    },

    "token": {
      "description": "A JWT token used for authorizing user access.",
      "fields": [
        { "name": "token", "type": "string" },
        { "name": "refresh_token", "type": "string" }
      ]
    },
    "token_form": {
      "description": "",
      "fields": [
        { "name": "email", "type": "string" },
        { "name": "password", "type": "string" }
      ]
    },

    "user": {
      "description": "An authenticated user within the system.",
      "fields": [
        { "name": "uuid", "type": "uuid" },
        { "name": "email", "type": "string" }
      ]
    }
  },

  "resources": {
    "recipe": {
      "path": "/recipes",
      "description": "Endpoint for managing the recipe resource.",
      "operations": [
        {
          "method": "GET",
          "description": "List all recipes.",
          "responses": {
            "200": { "type": "[recipe]" },
            "401": { "type": "unit" }
          }
        },
        {
          "method": "POST",
          "description": "Add a recipe.",
          "body": { "type": "recipe_form" },
          "responses": {
            "200": { "type": "recipe" },
            "400": { "type": "error" },
            "401": { "type": "unit" }
          }
        },
        {
          "method": "PUT",
          "description": "Edit a recipe.",
          "body": { "type": "recipe_form" },
          "responses": {
            "200": { "type": "recipe" },
            "400": { "type": "error" },
            "401": { "type": "unit" },
            "404": { "type": "unit" }
          }
        },
        {
          "method": "DELETE",
          "description": "Remove a recipe.",
          "path": "/:id",
          "responses": {
            "204": { "type": "unit" },
            "401": { "type": "unit" },
            "404": { "type": "unit" }
          }
        }
      ]
    },

    "token": {
      "path": "/tokens",
      "operations": [
        {
          "method": "POST",
          "description": "Authenticate a user by email and password.",
          "body": { "type": "token_form" },
          "responses": {
            "200": { "type": "token" },
            "401": { "type": "unit" }
          }
        },
        {
          "method": "PUT",
          "description": "Authenticate a user by using a refresh token.",
          "body": { "type": "token" },
          "responses": {
            "200": { "type": "token" },
            "401": { "type": "unit" }
          }
        }
      ]
    },

    "user": {
      "path": "/users",
      "description": "Endpoint for managing the user resource.",
      "operations": [
        {
          "method": "GET",
          "path": "/me",
          "description": "Show the current user.",
          "responses": {
            "200": { "type": "user" },
            "401": { "type": "unit" }
          }
        }
      ]
    }
  }
}
